{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/page.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"ctas\": \"page-module__E0kJGG__ctas\",\n  \"footer\": \"page-module__E0kJGG__footer\",\n  \"logo\": \"page-module__E0kJGG__logo\",\n  \"main\": \"page-module__E0kJGG__main\",\n  \"page\": \"page-module__E0kJGG__page\",\n  \"primary\": \"page-module__E0kJGG__primary\",\n  \"secondary\": \"page-module__E0kJGG__secondary\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kmine/Desktop/catchmypoketmonster/app/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport Image from \"next/image\";\r\nimport styles from \"./page.module.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Link from 'next/link';\r\n\r\nexport default function Home() {\r\n  const [firstLoad,setFirstLoad] = useState(false)\r\n  const [page,setPage] = useState(0);\r\n  const [pokemons, setPokemons] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    setTimeout(()=>{\r\n      setFirstLoad(true)\r\n    },3000)\r\n    console.log(firstLoad)\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    const fetchPokemonData = async () => {\r\n    const section = document.querySelector('section')\r\n    const p = document.createElement('p')\r\n    p.classList.add('loading-state')\r\n    p.textContent = '로딩중..'\r\n    section.append(p)\r\n      try {\r\n          const res = await fetch(`/api/pokemons?page=${page}`);\r\n          const data = await res.json();\r\n          p.remove();\r\n          //console.log(data) 결과 순서가 뒤죽박죽으로 나오는걸 확인\r\n          setPokemons(prev => [...prev, ...data])\r\n      } catch (err) {\r\n        console.error(err)\r\n      }\r\n    }\r\n\r\n    fetchPokemonData();\r\n  }, [page]);\r\n\r\n  let throttleTimer = null;\r\n\r\n  useEffect(()=>{\r\n    const handleScroll = () => {\r\n      if(throttleTimer || document.querySelector('.loading-state')) return;\r\n      throttleTimer = setTimeout(()=>{\r\n        if(window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {\r\n          setPage(prev => prev + 1);\r\n        }\r\n        throttleTimer = null\r\n      },1300)\r\n      //console.log(`innerHeight: ${window.innerHeight}, scrollY: ${window.scrollY}, document: ${document.body.offsetHeight}`)\r\n    }\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll)\r\n  },[])\r\n  return (\r\n\r\n    <section className=\"main-list-section\">\r\n      {firstLoad?(\r\n      <div>\r\n        <div className=\"main-message-container\">\r\n          <p>나만의 포켓몬 도감을 완성해보세요!</p>\r\n        </div>\r\n        <div className=\"cardslot-container\">\r\n          {pokemons.map((ele,idx)=>(\r\n            <Link href={`/pokemons/${ele.id}`} key={`${ele.id}-${idx}`}>\r\n              <div className=\"card-slot\">\r\n                <div className=\"img-box\" >\r\n                  <img src={ele.image} alt={ele.name} />\r\n                  <div className=\"monster-index\">NO.{ele.id}</div>\r\n                </div>\r\n                <div className=\"text-box\">\r\n                  <p className=\"monster-name\">{ele.name}</p>\r\n                  <div className=\"types-container\">\r\n                    {ele.types.map(n=>(<span className=\"monster-type\" key={n}>{n}</span>))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      ):(\r\n        <div className=\"loading-first\">\r\n          <div className=\"loading-inner\">\r\n              <img src='/images/main-loading.png' alt=\"로딩\"></img>\r\n              <p>포켓몬 도감 생성중...</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,WAAU,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC1C,MAAM,CAAC,MAAK,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAChC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAE3C,IAAA,kNAAS,EAAC;QACR,WAAW;YACT,aAAa;QACf,GAAE;QACF,QAAQ,GAAG,CAAC;IACd,GAAE,EAAE;IAEJ,IAAA,kNAAS,EAAC;QACR,MAAM,mBAAmB;YACzB,MAAM,UAAU,SAAS,aAAa,CAAC;YACvC,MAAM,IAAI,SAAS,aAAa,CAAC;YACjC,EAAE,SAAS,CAAC,GAAG,CAAC;YAChB,EAAE,WAAW,GAAG;YAChB,QAAQ,MAAM,CAAC;YACb,IAAI;gBACA,MAAM,MAAM,MAAM,MAAM,CAAC,mBAAmB,EAAE,MAAM;gBACpD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,EAAE,MAAM;gBACR,yCAAyC;gBACzC,YAAY,CAAA,OAAQ;2BAAI;2BAAS;qBAAK;YAC1C,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC;YAChB;QACF;QAEA;IACF,GAAG;QAAC;KAAK;IAET,IAAI,gBAAgB;IAEpB,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAG,iBAAiB,SAAS,aAAa,CAAC,mBAAmB;YAC9D,gBAAgB,WAAW;gBACzB,IAAG,OAAO,WAAW,GAAG,OAAO,OAAO,IAAI,SAAS,IAAI,CAAC,YAAY,GAAG,KAAK;oBAC1E,QAAQ,CAAA,OAAQ,OAAO;gBACzB;gBACA,gBAAgB;YAClB,GAAE;QACF,wHAAwH;QAC1H;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAE,EAAE;IACJ,qBAEE,8OAAC;QAAQ,WAAU;kBAChB,0BACD,8OAAC;;8BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;kCAAE;;;;;;;;;;;8BAEL,8OAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC,KAAI,oBACjB,8OAAC,uKAAI;4BAAC,MAAM,CAAC,UAAU,EAAE,IAAI,EAAE,EAAE;sCAC/B,cAAA,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAI,KAAK,IAAI,KAAK;gDAAE,KAAK,IAAI,IAAI;;;;;;0DAClC,8OAAC;gDAAI,WAAU;;oDAAgB;oDAAI,IAAI,EAAE;;;;;;;;;;;;;kDAE3C,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAgB,IAAI,IAAI;;;;;;0DACrC,8OAAC;gDAAI,WAAU;0DACZ,IAAI,KAAK,CAAC,GAAG,CAAC,CAAA,kBAAI,8OAAC;wDAAK,WAAU;kEAAwB;uDAAJ;;;;;;;;;;;;;;;;;;;;;;2BATvB,GAAG,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK;;;;;;;;;;;;;;;iCAkB9D,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,KAAI;wBAA2B,KAAI;;;;;;kCACxC,8OAAC;kCAAE;;;;;;;;;;;;;;;;;;;;;;AAMjB","debugId":null}}]
}